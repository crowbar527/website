@model IEnumerable<StaticCamera>
@{
    ViewData["Title"] = "Home Page";
}


<head>
    <script src="https://maps.googleapis.com/maps/api/js?"></script>
    <!--Include Leaflet-->
    <link rel="stylesheet" href="~/lib/Leaflet/leaflet.css" />
    <script src="~/lib/Leaflet/leaflet.js"></script>
</head>
<body onload="DisplayGoogleMap()">
    <div id="ljsmap" style="width:100%;height:800px;">

    </div>

   
    <!--Setup map-->
    <script>
        var mymap = L.map('ljsmap').setView([-41.2177074, 178.1841412], 5.96);
        L.tileLayer('https://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '<a href="https://www.openstreetmap.org/copyright">© OpenStreetMap contributors</a>',
            maxZoom: 18,
            tileSize: 512,
            zoomOffset: -1
        }).addTo(mymap);
        //Create Icons
        var icon_redlight = L.icon({
            iconUrl: './lib/art/camera-redlight.png',
            iconSize: [26, 26],
            iconAnchor: [13.5, 26],
            popupAnchor: [0, -26]
        });
        var icon_staticcamera = L.icon({
            iconUrl: './lib/art/camera-static.png',
            iconSize: [26,26],
            iconAnchor: [13.5, 26],
            popupAnchor: [0, -26]
        });
    </script>

    @foreach (var item in Model)
    {
        if (item.Type == "STATIC")
        {
            <script>
            var marker = L.marker([@item.StartPos.Latitude, @item.StartPos.Longtitude], {
                icon: icon_staticcamera
            });
            marker.bindPopup('@item.Street');
    marker.addTo(mymap);
            </script>
        }
        else
        {
            <script>
            var marker = L.marker([@item.StartPos.Latitude, @item.StartPos.Longtitude], {
                icon: icon_redlight
            });
            marker.bindPopup('@item.Street');
    marker.addTo(mymap);
            </script>
        }
    }

</body>

